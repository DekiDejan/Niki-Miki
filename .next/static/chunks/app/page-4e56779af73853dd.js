(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{5295:function(e,t,s){Promise.resolve().then(s.bind(s,678))},678:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return c}});var a=s(7437),r=s(2265);let l={players:{niki:{name:"Niki",gameScore:0,setScore:0},miki:{name:"Miki",gameScore:0,setScore:0}},history:[]},i=()=>{let[e,t]=(0,r.useState)(l),[s,a]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/game-state");if(!e.ok)throw Error("Failed to load game state");let s=await e.json();t(s)}catch(e){console.error("Failed to load game state:",e)}finally{a(!1)}})()},[]),(0,r.useEffect)(()=>{let t=async()=>{try{if(!(await fetch("/api/game-state",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw Error("Failed to save game state")}catch(e){console.error("Failed to save game state:",e)}};s||t()},[e,s]),{gameState:e,isLoading:s,addGamePoints:(e,s)=>{t(t=>({...t,players:{...t.players,[e]:{...t.players[e],gameScore:t.players[e].gameScore+s}},history:[{timestamp:Date.now(),player:e,type:"game",points:s},...t.history]}))},addSet:e=>{t(t=>{let s={niki:{...t.players.niki,gameScore:0},miki:{...t.players.miki,gameScore:0}};return s[e].setScore=t.players[e].setScore+1,{...t,players:s,history:[{timestamp:Date.now(),player:e,type:"set",points:1},...t.history]}})},resetGame:()=>{t(e=>({...e,players:{...e.players,niki:{...e.players.niki,gameScore:0},miki:{...e.players.miki,gameScore:0}}}))},resetAll:()=>{t(l)}}};var n=s(4014);function c(){let{gameState:e,isLoading:t,addGamePoints:s,addSet:r,resetGame:l,resetAll:c}=i(),{niki:o,miki:m}=e.players,d=()=>o.gameScore===m.gameScore?null:o.gameScore>m.gameScore?"niki":"miki";return t?(0,a.jsx)("main",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 to-slate-100",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-slate-600",children:"Loading game state..."})]})}):(0,a.jsx)("main",{className:"min-h-screen p-4 md:p-8 bg-gradient-to-br from-slate-50 to-slate-100",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,a.jsxs)("header",{className:"text-center space-y-2",children:[(0,a.jsx)("h1",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 text-transparent bg-clip-text pb-1",children:"Backgammon Score Tracker"}),(0,a.jsx)("p",{className:"text-slate-600 text-lg",children:"Custom made for Niki & Miki"})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 max-w-3xl mx-auto",children:["niki","miki"].map(t=>{let l=e.players[t],i=d()===t;return(0,a.jsxs)("div",{className:"p-6 ".concat(i?"card-highlight":"card"," transform transition-all duration-300 hover:scale-105 active:scale-95"),children:[(0,a.jsx)("h2",{className:"text-xl md:text-2xl font-bold text-center mb-4 capitalize bg-gradient-to-r from-slate-700 to-slate-900 text-transparent bg-clip-text",children:l.name}),(0,a.jsxs)("div",{className:"text-center mb-6",children:[(0,a.jsx)("div",{className:"text-4xl md:text-5xl font-bold mb-2 text-blue-600",children:l.gameScore}),(0,a.jsx)("div",{className:"text-sm font-medium text-slate-500 uppercase tracking-wider",children:"Game Score"})]}),(0,a.jsxs)("div",{className:"text-center mb-6",children:[(0,a.jsx)("div",{className:"text-3xl font-semibold text-purple-600",children:l.setScore}),(0,a.jsx)("div",{className:"text-sm font-medium text-slate-500 uppercase tracking-wider",children:"Sets Won"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[(0,a.jsx)("button",{onClick:()=>s(t,1),className:"btn btn-success",children:"+1 Point"}),(0,a.jsx)("button",{onClick:()=>s(t,2),className:"btn btn-success",children:"+2 Points"})]}),(0,a.jsx)("button",{onClick:()=>r(t),className:"w-full btn btn-primary",children:"Win Set"})]},t)})}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[(0,a.jsx)("button",{onClick:l,className:"btn btn-warning",children:"Reset Game Scores"}),(0,a.jsx)("button",{onClick:c,className:"btn btn-danger",children:"Reset All Scores"})]}),(0,a.jsxs)("div",{className:"card p-6",children:[(0,a.jsxs)("h3",{className:"text-xl font-semibold mb-4 text-slate-800 flex justify-between items-center",children:[(0,a.jsx)("span",{children:"Game History"}),(0,a.jsxs)("span",{className:"text-sm text-slate-500",children:[e.history.length," changes"]})]}),(0,a.jsx)("div",{className:"space-y-3 max-h-[400px] overflow-y-auto scrollbar-thin scrollbar-thumb-slate-200 scrollbar-track-slate-50",children:0===e.history.length?(0,a.jsx)("div",{className:"text-center text-slate-500 py-4",children:"No changes recorded yet"}):e.history.map((e,t)=>(0,a.jsxs)("div",{className:"text-sm text-slate-600 bg-slate-50 p-3 rounded-lg hover:bg-slate-100 transition-colors",children:[(0,a.jsx)("span",{className:"font-medium text-slate-800",children:(0,n.WU)(e.timestamp,"HH:mm:ss")})," ","-"," ",(0,a.jsx)("span",{className:"capitalize font-medium text-blue-600",children:e.player})," ","game"===e.type?(0,a.jsxs)("span",{children:["scored"," ",(0,a.jsxs)("span",{className:"font-medium text-green-600",children:[e.points," point",e.points>1?"s":""]})]}):(0,a.jsx)("span",{className:"font-medium text-purple-600",children:"won a set"})]},t))})]})]})})}}},function(e){e.O(0,[14,971,117,744],function(){return e(e.s=5295)}),_N_E=e.O()}]);